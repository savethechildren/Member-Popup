import*as util from"./utilities.js";let country="",userLanguage="en-US";function locate(){return new Promise(e=>{void 0===(country=util.getCookie("stc_country"))||""===country?util.jsonp("https://cfwk.savethechildren.ngo/api/geo/country?callback=setCountry",{callbackName:"setCountry",onSuccess:t=>{window.stc.geo.country=t.country_code,util.setCookie("stc_country",t.country_code,14,util.getDomain(window.location.hostname)),e(country)},onTimeout:()=>{},timeout:5}):e(country)})}function setUserLanguage(e){let t="en-US";return e||(t=util.getCookie("stc_user_language")||(navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage)),!(t.length<2)&&(util.setCookie("stc_user_language",t,14,util.getDomain(window.location.hostname)),userLanguage=t,t)}const members=["AU","CA","CH","CO","DE","DK","DO","ES","FI","FJ","GB","GT","HK","HN","ID","IN","IS","IT","JP","KR","LT","MX","NL","NO","NZ","PH","RO","SE","SZ","US","ZA"];setUserLanguage(),locate();export{locate,country,members,setUserLanguage,userLanguage};