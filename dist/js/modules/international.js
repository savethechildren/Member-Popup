import*as util from"./utilities.js";let country="";function setUserLanguage(t){let e="en-US";return!((e=t||(util.getCookie("stc_user_language")||(navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage))).length<2)&&(util.setCookie("stc_user_language",e,14,util.getDomain(window.location.hostname)),stc.geo.userLanguage=e,e)}function locate(){return new Promise(t=>{void 0===(country=util.getCookie("stc_country"))||""===country?util.jsonp("https://cfwk.savethechildren.ngo/api/geo/country?callback=setCountry",{callbackName:"setCountry",onSuccess:e=>{window.stc.geo.country=e.country_code,util.setCookie("stc_country",e.country_code,14,util.getDomain(window.location.hostname)),setUserLanguage(e.user_language),t(country)},onTimeout:()=>{},timeout:5}):(window.stc.geo.country=country,setUserLanguage(),t(country))})}const members=["AU","CA","CH","CO","DE","DK","DO","ES","FI","FJ","GB","GT","HK","HN","ID","IN","IS","IT","JP","KR","LT","MX","NL","NO","NZ","PH","RO","SE","SZ","US","ZA"];export{locate,country,members,setUserLanguage};